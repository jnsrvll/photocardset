<html>
<head>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
	<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
	<script
  src="https://code.jquery.com/jquery-3.4.1.js"
  integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU="
  crossorigin="anonymous"></script>
	<meta content="width=device-width, initial-scale=1" name="viewport" />
	<title>Reservation List</title>

</head>

<body style="padding:0; margin:0;">

	
	<nav class="navbar bg-dark navbar-dark w-100 col-md-12 navbar-expand-lg navbar-default fixed-top">
		<a href="#" class="navbar-brand text-monospace">CARROT FAM LAYOUT</a>
		<button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbarCollapse">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="row float-right w-100 navbar-collapse collapse" id="navbarCollapse">
	        	<ul class="navbar-nav">
			    <li class="nav-item">
			      <a class="nav-link" href="pobs.html">POBs</a>
			    </li>
			    <li class="nav-item">
			      <a class="nav-link" href="monos.html">MONOS</a>
			    </li>
			    <li class="nav-item">
			      <a class="nav-link" href="#">JAPAN PHOTOCARD SETS</a>
			    </li>
			    <li class="nav-item active">
			      <a class="nav-link" href="reservationlist.html">RESERVATION</a>
			    </li>
			  </ul>
        </div>
	  
	</nav>
	<br/><br/>
	<div class="container w-100 mt-4 ">
		<div class="row ">
			<div class="col-md-6 col-12" id="first">

			</div>
			<div class="col-md-6 col-12" id="second">
			</div>
		</div>
		<button type="button" class="btn btn-info btn-lg btn-block mt-5" data-toggle="modal" data-target="#modal">ADD RESERVATION</button>
	</div>
	<div class="modal fade" id="modal" tabindex="-1" role="dialog" aria-labelledby="exampleModal3Label" aria-hidden="true">
	  <div class="modal-dialog" role="document">
	    <div class="modal-content">
	      <div class="modal-header bg-warning">
	        <h5 class="modal-title" id="exampleModal3Label">ADD RESERVATION</h5>
	        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
	          <span aria-hidden="true">&times;</span>
	        </button>
	      </div>
	      <div class="modal-body">
				<div class="form-group">
					<label for="itemname">Item Name</label>
					<input type="text" class="form-control" id="itemname" placeholder="Item Name">
				</div>
				<div class="form-group">
					<label for="price">Price</label>
					<input type="number" class="form-control" id="price" placeholder="Price">
				</div>
				<div class="form-group">
					<label for="person">Whom will you buy from?</label>
					<input type="text" class="form-control" id="person" placeholder="Person Name">
				</div>
				<div class="form-group">
					<label for="location">Meet-up Location</label>
					<input type="text" class="form-control" id="location" placeholder="Place of Meet-up">
				</div>
	      </div>
	      <div class="modal-footer">
	        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
	        <button type="button" class="btn btn-primary" onclick="Add();">Save changes</button>
	      </div>
	    </div>
	  </div>
	</div>
	<script>
	    function Add()
	    {
	      var x = confirm("Are you sure you want to add this record?");
	      if (x){
	      	console.log("asd");
	      	var inputItem = document.getElementById("itemname").value;
	      	var inputPrice = document.getElementById("price").value;
	      	var inputPerson = document.getElementById("person").value;
	      	var inputLocation = document.getElementById("location").value;

	      	
	      	console.log(JSON.parse(localStorage.getItem('reserv')) === null);
	      	if (JSON.parse(localStorage.getItem('reserv')) === null) {
	      		var reservs = [];
	      		localStorage.setItem("reserv", JSON.stringify(reservs));
	      		reservs = JSON.parse(localStorage.getItem('reserv')); 
		      	reservs.push({
		      		'itemname': inputItem,
		      		'itemprice': inputPrice,
		      		'itemperson':  inputPerson,
		      		'itemlocation': inputLocation
		      	});
		      	localStorage.removeItem("reserv");
		      	localStorage.setItem("reserv", JSON.stringify(reservs));
	      	}
	      	else{
	      		var reservs = [];
		      	reservs = JSON.parse(localStorage.getItem('reserv')); 
		      	reservs.push({
		      		'itemname': inputItem,
		      		'itemprice': inputPrice,
		      		'itemperson':  inputPerson,
		      		'itemlocation': inputLocation
		      	});
		      	localStorage.removeItem("reserv");
		      	localStorage.setItem("reserv", JSON.stringify(reservs));
	      	}
	  //     	var item1 = [];
	  //     	item1 = localStorage.getItem('item');
	  //     	console.log(item1);
	  //     	console.log(typeof(item1));
		 //    item1.push(inputItem);

			// var price1 = [];
			// price1.push(JSON.parse(localStorage.getItem('price')));
			// price1.push(inputPrice);

			// var person1 = [];
			// person1.push(JSON.parse(localStorage.getItem('person')));
			// person1.push(inputPerson);

			// var location1 = [];
			// location1.push(JSON.parse(localStorage.getItem('location')));
			// location1.push(inputLocation);

      		// localStorage.setItem("itemname", JSON.stringify(item1));
      		// localStorage.setItem("price", JSON.stringify(price1));
      		// localStorage.setItem("person", JSON.stringify(person1));
      		// localStorage.setItem("location", JSON.stringify(location1));

      		// console.log(localStorage.getItem('itemname'));
      		// console.log(localStorage.getItem('price'));
      		// console.log(localStorage.getItem('person'));
      		// console.log(localStorage.getItem('location'));
      		location.reload();
	      }
	      	
	      else{

	      }
	        
	    }
	</script>
	<script>
		$(document).ready(function() {

			// localStorage.removeItem("reserv");
			// localStorage.removeItem("reservation");
			// localStorage.removeItem("person");
			// localStorage.removeItem("location");
			// var item = [];
			// item = JSON.parse(localStorage.getItem('itemname'));
			// var price = []; 
			// price = JSON.parse(localStorage.getItem('price'));
			// var person = []; 
			// person = JSON.parse(localStorage.getItem('person'));
			// var location = [];
			// location = JSON.parse(localStorage.getItem('location'));
			var obj = JSON.parse(localStorage.getItem('reserv'));
			console.log(obj);
			var html = "";
			var html2 = "";
			var count = obj.length;

			for (var ob in obj) {
				var result = obj[ob].itemname + " - " + obj[ob].itemprice + " - " + obj[ob].itemperson + " - " + obj[ob].itemlocation;
				html +=  "<div class='custom-control custom-checkbox'>"+
					  		"<input type='checkbox' class='custom-control-input box'id='"+obj[ob].itemname+"'>"+
					  		"<label class='custom-control-label' for='"+obj[ob].itemname+"'>"+result+"</label>"+
						"</div>";
			}
			// if (obj !== null){
			// 	var numberInColumn = Math.round(count/2);
			// 	for (i = 1; i <= numberInColumn-1; i++) {
			// 	  var ob = obj[i];
			// 	  var result = ob.itemname + " - " + ob.itemprice + " - " + ob.itemperson + " - " + ob.itemlocation;
			// 	  html +=  "<div class='custom-control custom-checkbox'>"+
			// 			  		"<input type='checkbox' class='custom-control-input box'id='"+ob.itemname+"'>"+
			// 			  		"<label class='custom-control-label' for='"+ob.itemname+"'>"+result+"</label>"+
			// 				"</div>";		  
			// 	}
			// 	for (j = numberInColumn; j <= count-1; j++) {
			// 	  var itemname2 = item[j];
			// 	  var itemprice2 = price[j];
			// 	  var itemperson2 = person[j];
			// 	  var itemlocation2 = location[j];
			// 	  var result2 = itemname2 + " - " + itemprice2 + " - " + itemperson2 + " - " + itemlocation2;
			// 	  html2 +=  "<div class='custom-control custom-checkbox' >"+
			// 			  		"<input type='checkbox' class='custom-control-input box' id='"+itemname2+"'>"+
			// 			  		"<label class='custom-control-label' for='"+itemname2+"'>"+result2+"</label>"+
			// 				"</div>";		  
			// 	}
			// }
			// else {

			// }
			$("#first").append(html);
			$("#second").append(html2);
		});
	</script>
	<script type="text/javascript">
		function onClickBox() {
			var arr = $('.box').map(function() {
		  	return this.checked;
		  }).get();
		  localStorage.setItem("reservation", JSON.stringify(arr));
		}

		$(document).ready(function() {
			var arr = JSON.parse(localStorage.getItem('reservation')) || [];
		  arr.forEach(function(checked, i) {
		  	$('.box').eq(i).prop('checked', checked);
		  });

		  $(".box").click(onClickBox);
		});
	</script>
	
	<style type="text/css">
		@media (min-width: 1281px) {
	 		.pobimage{
				height: 1020px !important;
				width: 650px !important;
			}
		} 
		@media (min-width: 768px) and (max-width: 1024px) {
  			.pobimage{
				height: 930px !important;
				width: 500px !important;
			}
		}
	 	@media (max-width: 767px) {
			.pobimage{
				height: 630px !important;
				width: 350px !important;
			}		  
		}
	  
	</style>

</body>
</html>